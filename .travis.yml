language: python

python:
  - "2.7"
  - "3.6"

install:
  - pip install tox-travis coverage
  - pip install -e .
  - pushd .. && git clone https://github.com/lbryio/electrumx.git --branch packages && popd
  - pushd ../electrumx && pip install -e . && popd
  - pushd .. && git clone https://github.com/lbryio/orchstr8.git --branch wip && popd
  - pushd ../orchstr8 && pip install -e . && LEDGER=torba.coin.bitcoinsegwit orchstr8 download && popd

script: tox

after_success:
  - coverage combine tests/
  - bash <(curl -s https://codecov.io/bash)
